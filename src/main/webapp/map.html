<!DOCTYPE html>
<html>
<head>
    <title>Sightings</title>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD7I56a-GC6HwwpF7OIpFa61WR7lqNfzJE"></script>
    <script>
    function createSightingsMap(){
      fetch('/map-data').then(function(response) {
        return response.json();
      }).then((Sightings) => {

        const map = new google.maps.Map(document.getElementById('map'), {
          center: {lat: 24.943325, lng: 121.297187},
          zoom:8
        });

        Sightings.forEach((Sighting) => {
          new google.maps.Marker({
            position: {lat: Sighting.lat, lng: Sighting.lng},
            map: map
          });
        });
      });
    }

    </script>
    <style>
    #map{
      width: 500px;
      height: 500px;
    }

    </style>
</head>
<body onload="createSightingsMap();">
<h1>Sightings for students</h1>
<div id="map"></div>
</body>
</html>
